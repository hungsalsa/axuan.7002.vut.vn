<?php
 namespace quantri\modules\news\models;use Yii;use yii\helpers\ArrayHelper;class Downloads extends \yii\db\ActiveRecord{public static function tableName(){return 'tbl_downloads';}public function rules(){return[[['name','link'],'required','message'=>'{attribute} không được để trống'],[['descriptions'],'string'],[['sort','status'],'number'],[['status','created_at','updated_at','userCreated','userUpdated','cate_id'],'integer'],[['name','link','category_slug'],'string','max'=>255],];}public function attributeLabels(){return['id'=>'ID','name'=>'Tên','link'=>'Đường dẫn','cate_id'=>'Danh mục','category_slug'=>'Danh mục url','sort'=>'Sắp xếp','status'=>'Trạng thái','descriptions'=>'Mô tả','created_at'=>'Ngày tạo','updated_at'=>'Ngày sửa','userCreated'=>'Người tạo','userUpdated'=>'Người sửa',];}public function getCategories(){return $this->hasOne(Categories::className(),['id'=>'cate_id']);}public function getUserUpdate(){return $this->hasOne(\quantri\models\User::className(),['id'=>'userUpdated']);}public function getAllDownloads(){return ArrayHelper::map(self::find()->select(['id','name'])->where('status =:Status',['Status'=>1])->orderBy(['name'=>SORT_ASC])->all(),'id','name');}}