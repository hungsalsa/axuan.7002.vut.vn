<?php
 namespace frontend\common;use Yii;use yii\base\Component;use frontend\models\setting\FSettingModules;use frontend\models\setting\FSettingDefault;use frontend\models\setting\FBanner;use frontend\common\FCacheWebsite;use yii\helpers\Url;use frontend\common\Mobile_Detect;class SiteFrontend extends Component{public function init(){parent::init();$detect=new Mobile_Detect;$layout='';if($detect->isMobile()){$layout='_mobile';}if($detect->isTablet()){$layout='_tablet';}Yii::$app->params['layout']=$layout;if(empty(Yii::$app->params['productCategory'])){$category=new \frontend\models\product\FProduct();Yii::$app->params['productCategory']['idCateArray']=$category->getAllIdCategory();$category=new \frontend\models\product\FProductCategory();Yii::$app->params['productCategory']['arrayCateSlugName']=$category->getCategoryParentById(Yii::$app->params['productCategory']['idCateArray'],'slug');Yii::$app->params['productCategory']['arrayCateIdName']=$category->getCategoryParentById(Yii::$app->params['productCategory']['idCateArray']);Yii::$app->params['productCategory']['arrayCateSlugSlug']=$category->getCategorySlugById(Yii::$app->params['productCategory']['idCateArray']);Yii::$app->params['productCategory']['arrayCateIdSlug']=$category->getAllCategoryToSlug();}if(empty(Yii::$app->params['newsCategories'])){$category=new \frontend\models\news\FNews();Yii::$app->params['newsCategories']['idCateArray']=$category->getAllIdCategories();$category=new \frontend\models\news\FCategories();Yii::$app->params['newsCategories']['arrayCateSlugName']=$category->getCategoryParentById(Yii::$app->params['newsCategories']['idCateArray'],'slug');Yii::$app->params['newsCategories']['arrayCateIdName']=$category->getCategoryParentById(Yii::$app->params['newsCategories']['idCateArray']);Yii::$app->params['newsCategories']['arrayCateSlugSlug']=$category->getCategorySlugById(array_values(Yii::$app->params['newsCategories']['idCateArray']));}$site=new FSettingDefault();Yii::$app->params['config']['seohome']=$site->getSiteinfo();}}