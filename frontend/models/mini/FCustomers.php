<?php
 namespace frontend\models;use Yii;class FCustomers extends \yii\db\ActiveRecord{public static function tableName(){return 'tbl_customers';}public function rules(){return[[['fullname','id_link','url','phone'],'required','message'=>'{attribute} không được để trống'],[['note'],'string'],[['id_link','created_at','updated_at','userUpdated'],'integer'],[['fullname','email','type','url'],'string','max'=>255],[['phone'],'string','max'=>10,'message'=>'{attribute} dài tối đa 10 ký tự'],[['phone'],'match','pattern'=>'/^0[0-9]{9}$/','message'=>'{attribute} bao gồm các chữ số bắt đầu bằng 0 tối thiểu 10 số'],['email','email','message'=>'{attribute} không đúng định dạng'],];}public function attributeLabels(){return['id'=>'ID','fullname'=>'Họn tên','phone'=>'Số điện thoại','email'=>'Email','note'=>'Ghi chú','id_link'=>'Id Link','type'=>'Type','url'=>'Url','created_at'=>'Created At','updated_at'=>'Updated At','userUpdated'=>'User Updated',];}public function actionSendEmail($setSubject,$emailTo,$emailCC,$textBody){$send=Yii::$app->mailer->compose()->setFrom('minhlam26889@gmail.com')->setTo($emailTo)->setCc($emailCC)->setSubject($setSubject)->setTextBody($setSubject)->setHtmlBody($textBody);if($send->send()){return true;}else{return false;}}}